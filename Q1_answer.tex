\section{Q1 --- Networked Sensor Device for tracking}
\addcontentsline{toc}{section}{Q1 --- Networked Sensor Device for tracking}

We need a sensor device to track assets (vehicles and animals) in two wildlife parks:

\begin{itemize}
  \item \textbf{Knuthenborg Safari Park}, Denmark
  \item \textbf{Mpala Research Center}, Kenya
\end{itemize}

% - Knuthenborg: 1,600 acres, Denmark (Lat/Lon 54.811358, 11.5082552)
% - Mpala Research Center: 48,000 acres, Kenya (Lat/Lon 0.2882139, 36.9017593)
The parks are large, and the devices must be able to track the location of the assets with a high degree of accuracy. The devices will be used to monitor the animals' movements and behavior, as well as to track the vehicles used for research and conservation efforts.
The parks are located in different parts of the world, and the devices must be able to operate in different environments. The devices must be able to withstand harsh weather conditions, including extreme temperatures, rain, and dust. The devices must also be able to operate in remote areas with limited access to power and communication networks.

\subsection{Functional requirements}
% The devices must be able to measure acceleration, particulate matter concentration, and track location. The devices must also be able to record data every hour and preferably report it in real-time.

\begin{itemize}
  \item Location tracking (GPS)
  \item Measure acceleration (motion state)
  \item Measure particulate matter concentration
  \item Record data every hour (preferably real-time reporting)
\end{itemize}

\subsection{Non-functional requirements}
The devices must have an accuracy of at least 500 meters. Apart from that we need to consider environmental conditions, battery life, size, and cost.

Given that the devices will be used in wildlife parks, they must be able to withstand extreme temperatures, rain, and dust. Knuthenborg Safari Park is located in Denmark, where temperatures in worst case can drop to -20 degrees Celsius in winter and have hot humid summers. Mpala Research Center is located in Kenya, where temperatures can reach close to 40 degrees Celsius in summer. 

Because the device needs to be able to track animals as many types of animals are present in the parks, the size of the device must be small enough to be attached to the animals without causing discomfort. 

\begin{itemize}
  \item Accuracy: $\geq$500 m or more
  \item Withstand extreme temperatures (e.g., -20 to 40 degrees Celsius)
  \item Withstand rain and dust (IP67 or better)
  \item Battery life: 0.5 years or more
  \item Track animals and vehicles
  \item Size has to be Small
  \item Cost: $\mathdollar100$ or less
\end{itemize}


\subsection{Device selection}

\subsection{Acceleration}
For the acceleration we can would want to use a accelerometer. An example of a sensor could be the ADXL345, which measures at 3mm x 5mm x 1mm, has a range of up to +/-16g, and can operate in temperatures from -40 to +85 degrees Celsius. ADXL345 can measure the acceleration of the device in three dimensions so vertical movement of birds can be detected too if needed. It has a startup of 1.4ms, with a resolution of 13 bits, typically operates at 2.5V, and has a draw of 23$\mu$A in normal operation and 0.1$\mu$A in standby mode.

\subsection{Particulate matter concentration}
For the particulate matter concentration we can use a laser particle counter. The laser particle counter is a small device that can measure the concentration of particulate matter in the air. It uses a laser to detect particles in the air and can provide real-time data on the concentration of particulate matter.

% Bosh BMV080, 4.2 mm x 3 mm x 3.5 mm excluding flex PCB connector, Supply voltage 1.8 to 3.3 v, Start-up time 1.2 sec, -10째C to +40째C operating temperature range, Sleep current <30 $\mu$A, Average total current <68mA @ 0.97 Hz ODR
% https://www.mouser.dk/pdfDocs/bst-bmv080-fl000.pdf

\subsection{Location tracking}
For the location tracking, we can use a GPS module. The GPS module is a small device that provides real-time location data by using satellite signals to determine the device's position. It offers accurate tracking even in remote areas like Mpala. An example of such a module is the u-blox MIA-M10, which measures just 4.5 mm x 4.5 mm x 1 mm. It supports our needs with a temperature range from -40째C to +85째C, has a cold start time of about 30 seconds, and has a positional accuracy of up to 2.5 meters. It has power consumption, drawing approximately 22mA at 3.3V during continuous tracking. However, with power supplied to the VBAT pin, it can retain satellite data and significantly reduce startup time to 1-10 seconds, using less energy per fix. In deep sleep mode with VBAT maintained, the module draws as little as 1$\mu$A.

\subsubsection{Microcontroller and communication}
Given that we want to send data over a long distance, we can use LoRaWAN for communication. An example of a microcontroller that supports LoRaWAN is a STM32WLE5 module like the RAK3172 STM32WLE5. The module % todo finish this

%https://store.rakwireless.com/products/wisduo-lpwan-module-rak3172?variant=44068554473670

\subsubsection{Power supply}
The device will be powered by a rechargeable lithium-ion battery. The battery should be able to provide power for at least 0.5 years of operation. 

To know how much power we need, we can calculate the power consumption of the device. This will be a naive calculation, as we have not yet tested real-world power consumption, but it will give us an idea of the power requirements.

We know we need to send data every hour, and we can assume that the device will be in sleep mode most of the time to conserve power.
We assume that the GPS module will be active for 10 seconds every hour to get a location fix, the accelerometer will be active for 1 second every hour to measure acceleration, and the particulate matter sensor will be active for 1 second every hour to measure particulate matter concentration.
Assuming the following power consumption:
\begin{itemize}
  \item GPS module: 22mA for 10 seconds every hour
  \item Accelerometer: 23$\mu$A for 1 second every hour
  \item Particulate matter sensor: 68mA for 1 second every hour
  \item Microcontroller: 10mA for 1 second every hour
  \item LoRaWAN transmission: 20mA for 1 second every hour
  \item Sleep mode: 1$\mu$A for $(60*60) - 10 - (1*4) \simeq 3586$ seconds every hour
\end{itemize}



For additional power supply, we can consider energy harvesting. 
A common source would be using a solar panel. A possible issue would be that the device is not always exposed to sunlight, especially in the case of animals that might cover the cell from the sun with their body, fur or dirt.


The device will also have a solar panel to recharge the battery when it is exposed to sunlight. The solar panel will be able to provide enough power to keep the battery charged even in low-light conditions.

